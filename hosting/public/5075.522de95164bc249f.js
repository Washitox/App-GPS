"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5075],{5075:(F,d,a)=>{a.r(d),a.d(d,{HomePageModule:()=>C});var u=a(177),i=a(7863),h=a(4341),g=a(4964),e=a(4438),m=a(5797),f=a(1319),p=a(5063);const P=[{path:"",component:(()=>{var o;class s{constructor(t,n,r){this.geolocation=t,this.nativeGeocoder=n,this.firestore=r,this.latitude=0,this.longitude=0,this.options={timeout:1e4,enableHighAccuracy:!0,maximumAge:3600},this.nativeGeocoderOptions={useLocale:!0,maxResults:5}}getCurrentCoordinates(){this.geolocation.getCurrentPosition().then(t=>{console.log(t),this.latitude=t.coords.latitude,this.longitude=t.coords.longitude,this.getAddress(this.latitude,this.longitude),this.sendCoordinatesToFirebase(this.latitude,this.longitude)}).catch(t=>{console.log("Error getting location",t)})}getAddress(t,n){this.nativeGeocoder.reverseGeocode(t,n,this.nativeGeocoderOptions).then(r=>{this.address=this.pretifyAddress(r[0])}).catch(r=>{alert("Error getting location"+JSON.stringify(r))})}pretifyAddress(t){let n=[],r="";for(let c in t)n.push(t[c]);n.reverse();for(let c in n)n[c].length&&(r+=n[c]+", ");return t.slice(0,-2)}sendCoordinatesToFirebase(t,n){const r={latitude:t,longitude:n,timestamp:new Date,nombre:"Miguel Paredes"};this.firestore.collection("Localizacion").add(r).then(()=>{console.log("Coordenadas enviadas a Firebase")}).catch(c=>{console.error("Error al enviar coordenadas a Firebase",c)})}}return(o=s).\u0275fac=function(t){return new(t||o)(e.rXU(m.L),e.rXU(f.K),e.rXU(p.Qe))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-home"]],decls:22,vars:2,consts:[[1,"ion-padding"],["expand","block",3,"click"],["color","danger","slot","end"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3," Ionic Geolocation & Geocoder Examples "),e.k0s()()(),e.j41(4,"ion-content")(5,"div",0)(6,"ion-button",1),e.bIt("click",function(){return n.getCurrentCoordinates()}),e.EFF(7," Get Location "),e.k0s(),e.j41(8,"ion-list")(9,"ion-list-header")(10,"ion-label"),e.EFF(11,"Location Coordinates"),e.k0s()(),e.j41(12,"ion-item")(13,"ion-label"),e.EFF(14," Latitue "),e.k0s(),e.j41(15,"ion-badge",2),e.EFF(16),e.k0s()(),e.j41(17,"ion-item")(18,"ion-label"),e.EFF(19," Longitude "),e.k0s(),e.j41(20,"ion-badge",2),e.EFF(21),e.k0s()()()()()),2&t&&(e.R7$(16),e.JRh(n.latitude),e.R7$(5),e.JRh(n.longitude))},dependencies:[i.In,i.Jm,i.W9,i.eU,i.uz,i.he,i.nf,i.AF,i.BC,i.ai],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),s})()}];let v=(()=>{var o;class s{}return(o=s).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[g.iI.forChild(P),g.iI]}),s})(),C=(()=>{var o;class s{}return(o=s).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[u.MD,h.YN,i.bv,v]}),s})()}}]);